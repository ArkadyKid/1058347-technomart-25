"use strict";!function(){var t="overflow",o="modal--show",l="map--show",a="order-dialog--show",e=document.querySelectorAll(".card__price-button, .card__button--green"),c=document.querySelectorAll(".close"),r=document.querySelector("body"),s=document.querySelector(".order-dialog"),n=document.querySelector(".modal"),d=n.querySelector(".modal__wrapper"),u=n.querySelector(".modal__form"),i=document.querySelector(".map"),m=document.querySelector(".contacts__button-link"),v=document.querySelector(".contacts-map__link"),L=n.querySelector("#input-name"),f=n.querySelector("#input-email"),y=n.querySelector("#input-text"),S=!0,p="";try{p=localStorage.getItem("modalNameElement")}catch(e){S=!1}function _(e){e.preventDefault(),s.classList.add(a),r.classList.add(t)}function q(e){e.preventDefault(),s.classList.remove(a),n.classList.remove(o),i.classList.remove(l),r.classList.remove(t)}u.addEventListener("submit",function(e){L.value&&f.value&&y.value?S&&(localStorage.setItem("modalNameElement",L.value),localStorage.setItem("modalEmailElement",f.value),localStorage.setItem("modalTextElement",y.value)):(e.preventDefault(),d.classList.add("modal__error"))}),e.forEach(function(e){e.addEventListener("click",_)}),m.addEventListener("click",function(e){e.preventDefault(),n.classList.add(o),r.classList.add(t),p?(L.value=p,f.focus()):L.focus()}),v.addEventListener("click",function(e){e.preventDefault(),i.classList.add(l),r.classList.add(t)}),document.addEventListener("keydown",function(e){27===e.keyCode&&(s.classList.remove(a),n.classList.remove(o),i.classList.remove(l),r.classList.remove(t))}),c.forEach(function(e){e.addEventListener("click",q)})}();
